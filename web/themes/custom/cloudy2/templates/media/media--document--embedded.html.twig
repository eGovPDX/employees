{#
/**
 * @file
 * Theme override to display an embedded document media item.
 *
 * Available variables:
 * - name: Name of the media.
 * - content: Media content.
 *
 * @see template_preprocess_media()
 *
 * @ingroup themeable
 */
#}
{% set mime_map = {
  'application/pdf': 'PDF',
  'application/msword': 'DOC',
  'application/vnd.openxmlformats-officedocument.wordprocessingml.document': 'DOCX',
  'application/vnd.ms-excel': 'XLS',
  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': 'XLSX',
  'application/vnd.ms-powerpoint': 'PPT',
  'application/vnd.openxmlformats-officedocument.presentationml.presentation': 'PPTX',
} %}

{% set mime_type = mime_map[content.field_mime_type.0['#context']['value']] ?? 'File' %}

{%
  set classes = [
    'embed-document'
  ]
%}
{{ devel_breakpoint() }}
<div{{ attributes.addClass(classes) }}>
  {% if content.field_efiles_link['#object'] %}
    {% set file_url = content.field_efiles_link.content['#url'].uri %}
    <a href="{{ file_url }}">{{ name }}</a> ({{ mime_type }} {{ content.field_file_size.0|render|striptags|format_size }})
  {% elseif content.field_document %}
    <a href="{{ content.field_media_document.0 }}">{{ name }}</a> ({{ mime_type }} {{ content.field_file_size.0|render|striptags|format_size }})
  {% endif %}
</div>
