{# Set Notification Type #}
{% if node.field_notification_serverity.value == 20 %}
	{% set Typename = 'warning' %}
{% else %}
	{% set Typename = 'information' %}
{% endif %}

{# Defaults #}
{% set isDismissible = isDismissible|default(TRUE) %}
{% set is_draft = is_draft|default(FALSE) %}

{% set alertIcon %}
{% include '@westy/icon/icon.twig' with{
	name: Typename,
	size: 'lg',
} only %}
{% endset %}

{# remove the padding from last paragraph. align dismiss and icon with heading #}

{# CLASSES #}
{% set classes= [
  'westy-notification',
  'text-dark',
  'bg-secondary',
  'my-3',
  is_draft ? 'westy-notification--is_draft',
]%}
{# TWIG #}
	<div class="{{ classes|join(' ')|trim }}" data-nid="{{ node.id }}" {% if node.changed %} data-changed="{{ node.changed.value }}" {% endif %} {% if isDismissible is same as(true) %} role="alert" aria-live="polite" {% endif %}> <div class="d-flex flex-row westy-notification__inner-wrapper">
		<div class="p-2 start-0 container d-flex">
			{{alertIcon}}
			<div class="ps-3">
				<div class="fw-bold">{{label}}</div>
				<div>{{ content }}</div>
			</div>
			{% if isDismissible %}
				<div class="position-absolute end-0 p-3">
					<button type="button" class="border-0 bg-secondary westy-notification__close" data-dismiss="alert" aria-label="Dismiss notification">
						<span aria-hidden="true" class="alert__close-contents">
							<i class="fa fa-times fa-lg" aria-hidden="true"></i>
							<span class="sr-only">Dismiss</span>
						</button>
					</div>
				{% endif %}
			</div>
		</div>
	</div>
