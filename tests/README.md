## Intro
The test code is written in JavaScript and relies on Puppeteer to interact with the browser and Jest to validate test result and run tests. In CI environment, it also uses Percy to capture and analyse visual differences. It's recommended to learn about [Puppeteer](https://developers.google.com/web/tools/puppeteer/get-started) and [Jest](https://jestjs.io/docs/getting-started) before writing tests.

Tests available:
- `admin`

`admin.js` contains essential tests that must be run during each build.

IMPORTANT: Tests **must** be independent and have no side effect in other tests.

### Add new test
To add new test:
1. Identify which user the test should run as.
2. Edit the test file. Copy an existing test `it()` and modify the test code inside `async () => {...}`

## Debugging tips
Jest allows users to include or exclude tests. To only run certain test, use `it.only`. To exclude a test, use `it.skip`.

In order to help diagnose a failed test, all test code is wrapped inside try-catch blocks which generates a screenshot when an assertion fails or an exception is thrown.

If the screenshots generated by failed test do not help to diagonose the problem, you may need to consult the [official Puppeteer debugging tips](https://developers.google.com/web/tools/puppeteer/debugging) in order to step through your code.